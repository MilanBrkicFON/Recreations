<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      >
    <h:head>
        <title>Prijava na trening</title>
        <!--
                <script src="http://maps.google.com/maps/api/js?key=AIzaSyA1xIIwBHsOwA6SUbyOEQSMHWn79sj39d0"  
                        type="text/javascript"
                ></script> 
        -->
        <!--
        <script src="http://maps.google.com/maps/api/js?sensor=true|false"  type="text/javascript"></script>
        -->
    </h:head>
    <h:body>
        <h:form id="forma1">

            <p:dataTable id="treninzi" var="trening" value="#{filterTreninga.treninzi}"
                         emptyMessage="Nema treninga sa zadatim kriterijumom."
                         widgetVar="treningTabela"
                         filteredValue="#{filterTreninga.filtriraniTreninzi}"
                         >
                <p:column headerText="#{msg.training_sport}" >
<!--                    <f:facet name="filter">
                        <p:selectCheckboxMenu label="{msg.training_sport}" 
                                              converter="{sportConverters}"
                                              onchange="PF('treningTabela').filter()"
                                              panelStyle="width:125px" scrollHeight="150">
                            <f:selectItems value="{mbSport.sports}" />
                        </p:selectCheckboxMenu>
                    </f:facet>
 -->                   <h:outputText value="#{trening.sport}" />
                </p:column>
                
                <p:column headerText="#{msg.training_name}">
                    <h:outputText value="#{trening.nazivTreninga}" />
                </p:column>
                
                <p:column headerText="#{msg.training_date}">
                    <h:outputText value="#{trening.datum}" />
                </p:column>
                
                <p:column headerText="#{msg.training_start}">
                    <h:outputText value="#{trening.vremeOd}" />
                </p:column>
                
                <p:column headerText="#{msg.training_end}">
                    <h:outputText value="#{trening.vremeDo}" />
                </p:column>
  <!--  
                <p:column headerText="Trener(i)">
  
                 <p:commandButton id="btn-detaljiTrenera" update=":forma1:detaljiTrenera" 
                                     oncomplete="PF('trenerPanel').show()" icon="fa fa-male" title="Treneri">
                        <f:setPropertyActionListener value="{trening.treneri}" target="{filterTreninga.treneriNaTreningu}" />
                    </p:commandButton>
                </p:column>
              -->  
                <p:column style="width:auto;text-align: center">
                      <p:commandButton icon="fa fa-plus" 
                                       process="@this"
                                       actionListener="#{filterTreninga.vratiSelektovanog(trening)}" />
                </p:column>

            </p:dataTable>
            <p:overlayPanel id="panel"
                            widgetVar="trenerPanel" 
                            showEffect="fade" 
                            hideEffect="fade" 
                            dismissable="false" 
                            showCloseIcon="true"
                            >

                <p:outputPanel id="detaljiTrenera" style="text-align:center;">
                    <p:dataGrid columns="2" rendered="#{not empty filterTreninga.treneriNaTreningu}" 
                                value="#{filterTreninga.treneriNaTreningu}"
                                var="trener">
                        <f:facet name="ime">
                            <h:outputText value="#{trener.name}" />
                        </f:facet>
                        <p:separator />

                        <h:outputText value="Rating" />
                        <h:outputText value="#{trener.rating}" />

                        <h:outputText value="#{msg.msg_birthday}" />
                        <h:outputText value="#{trener.datumRodjenja}"/>
                    </p:dataGrid>
                     
                </p:outputPanel>
            </p:overlayPanel>
            <p:growl id="msg" showDetail="true" />
        </h:form>
        <!--
                            <p:gmap center="44.787197, 20.457273" type="roadmap" zoom="13" style="width: 100%; height: 400px;" streetView="false" >
        
                            </p:gmap>
        
        -->

    </h:body>
</html>

